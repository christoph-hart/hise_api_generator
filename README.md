# HISE API Generator

Extraction tooling that produces structured JSON data from the HISE C++ source code. The output is consumed by the [HISE MCP server](https://github.com/christoph-hart/hise_mcp) to provide accurate API documentation and coding assistance for HiseScript development.

## Extraction Processes

| Process | Output | Status | Guide |
|---------|--------|--------|-------|
| **Scripting API enrichment** | `enrichment/output/api_reference.json` | Active | [scripting-api-enrichment.md](doc_builders/scripting-api-enrichment.md) |
| **LAF function extraction** | `laf_style_guide.json` | Active | [laf-extraction.md](doc_builders/laf-extraction.md) |
| **Component properties** | TBD | Planned | [component-properties.md](doc_builders/component-properties.md) |
| **Module list** | TBD | Planned | [module-list.md](doc_builders/module-list.md) |

## Directory Structure

```
├── api_enrich.py              # CLI tool: phase0, prepare, merge
├── batchCreate.bat            # Runs Doxygen to produce XML
├── xml.doxyfile               # Doxygen configuration
├── xml/                       # Doxygen XML output (gitignored, regenerated)
├── enrichment/
│   ├── base/                  # Phase 0 output (gitignored, regenerated)
│   ├── phase1/                # Phase 1 agent output (tracked)
│   ├── phase2/                # Phase 2 project overrides (tracked)
│   ├── phase3/                # Phase 3 manual overrides (tracked)
│   ├── phase1_scanned.txt     # Diff manifest
│   └── output/                # Final merged JSON (gitignored, regenerated)
├── doc_builders/
│   ├── scripting-api-enrichment.md        # Orchestrator guide
│   ├── scripting-api-enrichment/          # Sub-phase details
│   │   ├── phase0.md
│   │   ├── phase1.md
│   │   ├── phase2.md
│   │   └── phase3.md
│   ├── laf-extraction.md
│   ├── component-properties.md
│   └── module-list.md
├── ApiExtractor.exe           # Pre-built Doxygen XML extractor
└── BinaryBuilder.exe          # Pre-built binary builder
```

## Quick Start (Scripting API Enrichment)

Prerequisites: Python 3.x, HISE source tree at `../../` relative to this directory.

```bash
# 1. Generate Doxygen XML (if not already present)
batchCreate.bat

# 2. Parse XML into base JSON (91 classes, ~2000 methods)
python api_enrich.py phase0

# 3. Check what still needs Phase 1 processing
python api_enrich.py prepare

# 4. Merge all phases into final output
python api_enrich.py merge
```

Phase 1 (C++ source analysis) is agent-driven. See the [session prompts](doc_builders/scripting-api-enrichment.md#session-prompts) for how to invoke it.

## What Gets Tracked vs Regenerated

**Tracked** (human/agent work product):
- `enrichment/phase1/` — Agent-produced class analyses and method docs
- `enrichment/phase2/` — Project example overrides
- `enrichment/phase3/` — Manual markdown overrides
- `enrichment/phase1_scanned.txt` — Progress manifest

**Gitignored** (regenerated by tools):
- `xml/` — Doxygen XML output
- `enrichment/base/` — Phase 0 JSON (from `api_enrich.py phase0`)
- `enrichment/output/` — Final `api_reference.json` (from `api_enrich.py merge`)
